@import "tailwindcss";

:root {
  /* ChatGPT-style Light Mode */
  --background: 255 255 255;
  --foreground: 13 13 13;
  
  --sidebar-bg: 249 249 249;
  --sidebar-fg: 102 102 102;
  
  --bubble-user: 244 244 244;
  --bubble-user-fg: 13 13 13;

  --bubble-ai: 255 255 255;
  --bubble-ai-fg: 13 13 13;

  --input-bg: 255 255 255;
  --border-color: 230 230 230;
  
  --accent: 124 58 237; 
  --accent-fg: 255 255 255;
}

[data-theme='dark'] {
  /* Gemini-style Deep Dark Mode */
  --background: 10 10 10;   /* Deepest Charcoal */
  --foreground: 228 228 231;
  
  --sidebar-bg: 0 0 0;       /* Pure Black Sidebar */
  --sidebar-fg: 161 161 170;

  --bubble-user: 30 30 30;   /* Elevated Dark Gray */
  --bubble-user-fg: 255 255 255;

  --bubble-ai: 10 10 10;
  --bubble-ai-fg: 228 228 231;

  --input-bg: 24 24 27;
  --border-color: 39 39 42;
  
  --accent: 59 130 246;     /* Gemini Blue */
}

body {
  color: rgb(var(--foreground));
  background: rgb(var(--background));
  font-family: 'Inter', system-ui, -apple-system, sans-serif;
  height: 100vh;
  overflow: hidden;
  transition: all 0.3s ease;
}

/* ChatGPT Style Scrollbar: Larger and only visible on hover */
.chat-scrollbar::-webkit-scrollbar, 
::-webkit-scrollbar {
  width: 8px; /* Increased size */
  height: 8px;
}

.chat-scrollbar::-webkit-scrollbar-track,
::-webkit-scrollbar-track {
  background: transparent;
}

.chat-scrollbar::-webkit-scrollbar-thumb,
::-webkit-scrollbar-thumb {
  background: transparent;
  border-radius: 20px;
}

/* Show thumb ONLY when hovering the specific scrollable element OR when scrolling (via JS class) */
.chat-scrollbar::-webkit-scrollbar-thumb {
  background: transparent;
  transition: background 0.3s ease;
}

.chat-scrollbar:hover::-webkit-scrollbar-thumb,
.scrollbar-visible::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.2);
}

[data-theme='dark'] .chat-scrollbar:hover::-webkit-scrollbar-thumb,
[data-theme='dark'] .scrollbar-visible::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.15);
}

.scrollbar-hidden::-webkit-scrollbar-thumb {
  background: transparent !important;
}

/* Darker when directly hovering the thumb */
::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.4) !important;
}

[data-theme='dark'] ::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.25) !important;
}

pre::-webkit-scrollbar {
  height: 8px;
  width: 8px;
}
pre::-webkit-scrollbar-track {
  background: #0d0d0d;
}
pre::-webkit-scrollbar-thumb {
  background: #555;
  border-radius: 10px;
  border: 2px solid #0d0d0d;
}
pre::-webkit-scrollbar-thumb:hover {
  background: #777;
}

/* Markdown Stylings (Stylish & GPT-like) */
.markdown-content {
  @apply leading-7 text-[15px];
}

.markdown-content p {
  @apply mb-4 last:mb-0;
}

.markdown-content h1, .markdown-content h2, .markdown-content h3 {
  @apply font-bold mt-6 mb-3 text-[rgb(var(--foreground))];
}

.markdown-content ul, .markdown-content ol {
  @apply mb-4 ml-6 space-y-2;
}

.markdown-content li {
  @apply list-disc;
}

.markdown-content strong {
  @apply font-bold text-[rgb(var(--foreground))];
}

.markdown-content blockquote {
  @apply border-l-4 border-[rgb(var(--accent))] pl-4 py-1 my-4 italic bg-[rgb(var(--bubble-user))]/30 rounded-r-lg;
}

.markdown-content table {
  @apply w-full border-collapse my-4 rounded-lg overflow-hidden border border-[rgb(var(--border-color))];
}

.markdown-content th {
  @apply border border-[rgb(var(--border-color))] p-3 bg-[rgb(var(--sidebar-bg))] font-bold text-left;
}

.markdown-content td {
  @apply border border-[rgb(var(--border-color))] p-3;
}

/* Animations */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in-up {
  animation: fadeInUp 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

.typing-dot {
  animation: typing 1.4s infinite ease-in-out both;
}

.typing-dot:nth-child(1) { animation-delay: -0.32s; }
.typing-dot:nth-child(2) { animation-delay: -0.16s; }

@keyframes typing {
  0%, 80%, 100% { transform: scale(0); }
  40% { transform: scale(1); }
}
@keyframes blink {
  0% { opacity: 1; }
  50% { opacity: 0; }
  100% { opacity: 1; }
}

.streaming-cursor::after {
  content: '‚óè';
  margin-left: 2px;
  font-size: 0.8em;
  vertical-align: middle;
  color: rgb(var(--accent));
  animation: blink 0.8s infinite;
}
